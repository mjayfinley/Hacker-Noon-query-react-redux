(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n(48)},38:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(19),o=n.n(c),i=n(7),u=(n(38),n(40),n(42),"STORY_ARCHIVE"),s="STORIES_FETCH",l="STORIES_FETCH_ERROR",h="STORIES_ADD",m=function(e){var t,n=e.storyState,r=e.archiveState;return n.stories.filter((t=r,function(e){return-1===t.indexOf(e.objectID)}))},b=(n(44),Object(i.b)(null,function(e){return{onArchive:function(t){return e(function(e){return{type:u,id:e}}(t))}}})(function(e){var t=e.story,n=e.columns,r=e.onArchive,c=t.title,o=t.url,i=t.author,u=t.num_comments,s=t.points,l=t.objectID;return a.a.createElement("div",{className:"story"},a.a.createElement("span",{style:{width:n.title.width}},a.a.createElement("a",{href:o},c)),a.a.createElement("span",{style:{width:n.author.width}},i),a.a.createElement("span",{style:{width:n.comments.width}},u),a.a.createElement("span",{style:{width:n.points.width}},s),a.a.createElement("span",{style:{width:n.archive.width}},a.a.createElement("button",{type:"button",className:"button-inline",onClick:function(){return r(l)}},"Archive")))})),f={title:{label:"Title",width:"40%"},author:{label:"Author",width:"30%"},comments:{label:"Comments",width:"10%"},points:{label:"Points",width:"10%"},archive:{width:"10%"}},d=Object(i.b)(function(e){return{stories:m(e),error:(t=e,t.storyState.error)};var t})(function(e){var t=e.stories,n=e.error;return a.a.createElement("div",{className:"stories"},a.a.createElement("div",{className:"stories-header"},Object.keys(f).map(function(e){return a.a.createElement("span",{key:e,style:{width:f[e].width}},f[e].label)})),n&&a.a.createElement("p",{className:"error"},"Something went wrong..."),(t||[]).map(function(e){return a.a.createElement(b,{key:e.objectID,story:e,columns:f})}))}),v=n(21),p=n(22),w=n(27),y=n(23),E=n(28),O=n(9),j=function(e){return{type:h,stories:e}},S=function(e){return{type:l,error:e}},g=function(e){var t=e.onClick,n=e.className,r=e.type,c=void 0===r?"button":r,o=e.children;return a.a.createElement("button",{type:c,className:n,onClick:t},o)},k=g,C=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(w.a)(this,Object(y.a)(t).call(this,e))).state={query:""},n.onChange=n.onChange.bind(Object(O.a)(Object(O.a)(n))),n.onSubmit=n.onSubmit.bind(Object(O.a)(Object(O.a)(n))),n}return Object(E.a)(t,e),Object(p.a)(t,[{key:"onSubmit",value:function(e){var t=this.state.query;t&&(this.props.onFetchStories(t),this.setState({query:""})),e.preventDefault()}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({query:t})}},{key:"render",value:function(){return a.a.createElement("form",{onSubmit:this.onSubmit},a.a.createElement("input",{type:"text",value:this.state.query,onChange:this.onChange}),a.a.createElement(k,{type:"submit"},"Search"))}}]),t}(r.Component),_=Object(i.b)(null,function(e){return{onFetchStories:function(t){return e(function(e){return{type:s,query:e}}(t))}}})(C),N=function(){return a.a.createElement("div",{className:"app"},a.a.createElement("div",{className:"interactions"},a.a.createElement(_,null)),a.a.createElement(d,null))},x=n(8),I=n(24),R=n(25),T={stories:[],error:null},q=function(e,t){return{stories:t.stories,error:null}},D=function(e,t){return{stories:[],error:t.error}};var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return q(e,t);case l:return D(e,t);default:return e}},F=n(26),H=[],B=function(e,t){return[].concat(Object(F.a)(e),[t.id])};var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return B(e,t);default:return e}},P=Object(x.c)({storyState:A,archiveState:J}),V=n(12),W=n.n(V),X=n(5),L=function(e){return fetch("http://hn.algolia.com/api/v1/search?query="+e).then(function(e){return e.json()})},M=W.a.mark(U);function U(e){var t,n;return W.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.query,r.prev=1,r.next=4,Object(X.b)(L,t);case 4:return n=r.sent,r.next=7,Object(X.c)(j(n.hits));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(X.c)(S(r.t0));case 13:case"end":return r.stop()}},M,this,[[1,9]])}var Y=W.a.mark($);function $(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.a)([Object(X.d)(s,U)]);case 2:case"end":return e.stop()}},Y,this)}var z=$,G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||x.d,K=Object(R.a)(),Q=Object(x.e)(P,G(Object(x.a)(K,I.a)));K.run(z);var Z=Q;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ee(){o.a.render(a.a.createElement(i.a,{store:Z},a.a.createElement(N,null)),document.getElementById("root"))}Z.subscribe(ee),ee(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.268b5fa2.chunk.js.map